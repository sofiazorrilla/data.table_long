<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Importar y exportar datos</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title"><img src="img/logo.png" alt="Logo" class="logo"></span>
    </a>
  </div>
        <div class="quarto-navbar-tools ms-auto">
    <a href="https://twitter.com" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools ms-auto-item" href="https://code.com">
            Source Code
            </a>
          </li>
      </ul>
    </div>
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./index.html">Introducción</a></li><li class="breadcrumb-item"><a href="./tema2.html">Importar y exportar datos</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Introducción</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introducción y recursos</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tema1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sintaxis básica</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tema2.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Importar y exportar datos</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Operaciones</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tema3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Filtros y selección de columnas</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tema4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modificación de columnas</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tema5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Agrupación</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tema6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cadenas de operaciones</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tema7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Uniones entre tablas</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#crear-un-objeto-data.table" id="toc-crear-un-objeto-data.table" class="nav-link active" data-scroll-target="#crear-un-objeto-data.table">Crear un objeto data.table</a></li>
  <li><a href="#importar-y-exportar-datos-de-archivos" id="toc-importar-y-exportar-datos-de-archivos" class="nav-link" data-scroll-target="#importar-y-exportar-datos-de-archivos">Importar y exportar datos de archivos</a>
  <ul class="collapse">
  <li><a href="#conjunto-de-datos" id="toc-conjunto-de-datos" class="nav-link" data-scroll-target="#conjunto-de-datos">Conjunto de datos</a></li>
  </ul></li>
  <li><a href="#exportar" id="toc-exportar" class="nav-link" data-scroll-target="#exportar">Exportar</a></li>
  <li><a href="#velocidad-dplyr-vs-data.table" id="toc-velocidad-dplyr-vs-data.table" class="nav-link" data-scroll-target="#velocidad-dplyr-vs-data.table">Velocidad dplyr vs data.table</a></li>
  <li><a href="#data.frame---data.table" id="toc-data.frame---data.table" class="nav-link" data-scroll-target="#data.frame---data.table">data.frame - data.table</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Importar y exportar datos</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="crear-un-objeto-data.table" class="level2">
<h2 class="anchored" data-anchor-id="crear-un-objeto-data.table">Crear un objeto data.table</h2>
<p>Un objeto data.table se puede definir, por ejemplo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>DT <span class="ot">=</span> <span class="fu">data.table</span>(</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ID =</span> <span class="fu">c</span>(<span class="st">"b"</span>,<span class="st">"b"</span>,<span class="st">"b"</span>,<span class="st">"a"</span>,<span class="st">"a"</span>,<span class="st">"c"</span>),</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">a =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">b =</span> <span class="dv">7</span><span class="sc">:</span><span class="dv">12</span>,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">c =</span> <span class="dv">13</span><span class="sc">:</span><span class="dv">18</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>DT</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   ID a  b  c
1:  b 1  7 13
2:  b 2  8 14
3:  b 3  9 15
4:  a 4 10 16
5:  a 5 11 17
6:  c 6 12 18</code></pre>
</div>
</div>
<p><br></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Ejercicio
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Imaginemos que queremos crear una simulación de una base de datos de secuencias aleatorias. La tabla que queremos al final va a tener dos columnas, la primera es un número identificador de cada secuencia y la segunda la secuencia aleatoria de tamaño 300. Por ejemplo, la siguiente tabla muestra las primeras 10 filas del resultado esperado.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 2%">
<col style="width: 97%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">id</th>
<th style="text-align: left;">sequencia</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">CATCCACTAGGGGAAGTATTAACCGTACGTACGTGCTCTCTATAAGGTTGTTGTTTCCCTCCGGTCAGATGTTATCCTGTGCCCAGTTTTTTATATTCGG</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">CTTTTCTTTGCACGACTGGTAAAGGACGTAGACGGTACCTTGCTCGCCGCTCTGAGTTATCAAACATTAACTTGATTGAGCGCCTCCGAGCACATGTTGC</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: left;">ATGCGCTCTCTCCTCCTCGATCAGTTGACCCCTATTGGCCACGCGAGTTAAGCTTTTCTCAAGACGACTCAAATCGTCTCGCTACGGATCTGTTTAATAT</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: left;">TCTCAAGCACATTGTAACCAGTTACCACAACTACCTAGCCATTTTATCCCAGTAGCCGGCAGCCGGGGACGTGACCTTTTTCTTTAGATCGGGAGAAAGT</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: left;">CCAGCTCCCTTGGAATATGCATGATCACAGGACTGACAACAAAAGATGGCGGAGGCGTGTAGAAAGAATGGTCATCCTAGTTCTTTGAGGGCGTAAGAGA</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: left;">GCGGTTCTGCATGGTTCCCGATCAAAGCATGGAAATCCATTCGATCGCAGTCAGGCTAACCCCGTTGCGGCCACTGCACATTTGTGGTAGAAATCCCTGG</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>Ejercicio:</strong> Genera un objeto data.table en el que la primera columna sea un id de secuencia y la segunda sea una secuencia (aleatoria) de tamaño 300 caracteres</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Respuesta
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>secuencias <span class="ot">&lt;-</span> <span class="fu">data.table</span>(</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">id =</span> <span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">10000</span>), </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">sequencia =</span> <span class="fu">sapply</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">10000</span>), <span class="cf">function</span>(x) <span class="fu">paste</span>(<span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"T"</span>, <span class="st">"C"</span>, <span class="st">"G"</span>), <span class="dv">100</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>), <span class="at">collapse =</span> <span class="st">""</span>)))</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(secuencias)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id                                                                                            sequencia
1:  1 TGGTTGGTTACCTAAAGAAGGTGTCCATCGGGATTTATTTGCTGGCGAGGTGGGACACAATTCAGTTTAGTGGTTCCACCAAGACTATCGTAGTAACTAC
2:  2 CTATAGTGAACGCGGGCAGTTAGTGCGTTTCGTAGGCCAACTAATTGGAATAATCGAATAGTGAACTTCACACATTTATTCGCTCACTGTACTACTCCTT
3:  3 CCAGGACTATCTCACATTCGCATGTACTTGGCCAACCTATCTGCTTTGACCGAGCAACGACTCACTGCCACTCGAGTCCTTACACCGTGCCCCCCTCACG
4:  4 CCTTCCATTAAGTGATTCCCGATCACACCCCCTTACCGTCCGGGCAGCTGGGCCAATGTCATAACGGGCTGACCAGGAGCGGAGGGGTATCTCGAACCTT
5:  5 AGCTGAGGGAACTTGCAAGTGAGATGACCTTCAAGAACCTGGCTCGGAAGGGTAACGCCGGACAGCACCGAAGGTGGACCCCCGTGATTCCTGAGGTCGC
6:  6 ACAACCTGGTGGCTGGTATCATTCAGATCTTAACCCTGACATGAATACCAACAATGACCAAAGGGTATAAAACGTTGATTTGTGATGCAAATCGATCCCC</code></pre>
</div>
</div>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="importar-y-exportar-datos-de-archivos" class="level2">
<h2 class="anchored" data-anchor-id="importar-y-exportar-datos-de-archivos">Importar y exportar datos de archivos</h2>
<p>Las funciones para importar (<code>fread</code>) y exportar (<code>fwrite</code>) tienen las siguientes opciones principales:</p>
<ul>
<li><p><code>x</code>: el objeto que queremos exportar.</p></li>
<li><p><code>file</code>: ruta para escribir/leer el archivo.</p></li>
<li><p><code>sep</code>: el delimitador entre columnas.</p></li>
<li><p><code>dec</code>: el separador decimal.</p></li>
<li><p><code>dateTimeAs</code>: formato en el que guardar objetos de fecha. Por defecto es “ISO”.</p></li>
</ul>
<section id="conjunto-de-datos" class="level3">
<h3 class="anchored" data-anchor-id="conjunto-de-datos">Conjunto de datos</h3>
<p>En esta y la siguiente sección vamos a trabajar una tabla de todos los especímenes de plantas que tiene registrados la plataforma GBIF (Global Biodiversity Information Facility) para México. Específicamente esta tabla solo contiene los registros de plantas que tienen un especímen guardado en alguna colección biológica y que tienen coordenadas que nos permitan ubicarlos.</p>
<p><strong>Ejemplo</strong>: Por ejemplo, podemos importar la tabla de plantae_mexico_conCoords_specimen.csv que tiene 3062756 registros y 50 filas.</p>
<p><strong>Nota:</strong> <code>fread()</code> también permite leer archivos comprimidos <code>.gz</code></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>data <span class="ot">=</span> <span class="fu">fread</span>(<span class="st">"data/plantae_mexico_conCoords_specimen.csv"</span>, <span class="at">quote=</span><span class="st">""</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data) <span class="sc">|&gt;</span> knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 2%">
<col style="width: 6%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 2%">
<col style="width: 12%">
<col style="width: 17%">
<col style="width: 6%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 6%">
<col style="width: 2%">
<col style="width: 0%">
<col style="width: 1%">
<col style="width: 1%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">gbifID</th>
<th style="text-align: left;">occurrenceID</th>
<th style="text-align: left;">phylum</th>
<th style="text-align: left;">class</th>
<th style="text-align: left;">order</th>
<th style="text-align: left;">family</th>
<th style="text-align: left;">genus</th>
<th style="text-align: left;">species</th>
<th style="text-align: left;">infraspecificEpithet</th>
<th style="text-align: left;">taxonRank</th>
<th style="text-align: left;">scientificName</th>
<th style="text-align: left;">verbatimScientificName</th>
<th style="text-align: left;">verbatimScientificNameAuthorship</th>
<th style="text-align: left;">countryCode</th>
<th style="text-align: left;">stateProvince</th>
<th style="text-align: right;">decimalLatitude</th>
<th style="text-align: right;">decimalLongitude</th>
<th style="text-align: left;">coordinateUncertaintyInMeters</th>
<th style="text-align: right;">elevation</th>
<th style="text-align: right;">day</th>
<th style="text-align: right;">month</th>
<th style="text-align: right;">year</th>
<th style="text-align: left;">basisOfRecord</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2825623524</td>
<td style="text-align: left;">TAIF:PLANT:318128:1:1:411555</td>
<td style="text-align: left;">Tracheophyta</td>
<td style="text-align: left;">Polypodiopsida</td>
<td style="text-align: left;">Polypodiales</td>
<td style="text-align: left;">Pteridaceae</td>
<td style="text-align: left;">Adiantum</td>
<td style="text-align: left;">Adiantum andicola</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">SPECIES</td>
<td style="text-align: left;">Adiantum andicola Liebm.</td>
<td style="text-align: left;">Adiantum andicola Liebm.</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">MX</td>
<td style="text-align: left;">Oaxaca (瓦哈卡州)</td>
<td style="text-align: right;">17.30213</td>
<td style="text-align: right;">-96.38080</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">2267</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2012</td>
<td style="text-align: left;">PRESERVED_SPECIMEN</td>
</tr>
<tr class="even">
<td style="text-align: right;">2825649445</td>
<td style="text-align: left;">TAIF:PLANT:318579:1:1:411579</td>
<td style="text-align: left;">Tracheophyta</td>
<td style="text-align: left;">Polypodiopsida</td>
<td style="text-align: left;">Polypodiales</td>
<td style="text-align: left;">Pteridaceae</td>
<td style="text-align: left;">Scoliosorus</td>
<td style="text-align: left;">Scoliosorus ensiformis</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">SPECIES</td>
<td style="text-align: left;">Scoliosorus ensiformis (Hook.) T.Moore</td>
<td style="text-align: left;">Scoliosorus ensiformis (Hook.) T. Moore</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">MX</td>
<td style="text-align: left;">Oaxaca (瓦哈卡州)</td>
<td style="text-align: right;">17.30213</td>
<td style="text-align: right;">-96.38080</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">2267</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2012</td>
<td style="text-align: left;">PRESERVED_SPECIMEN</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2825649446</td>
<td style="text-align: left;">TAIF:PLANT:318694:1:1:411603</td>
<td style="text-align: left;">Tracheophyta</td>
<td style="text-align: left;">Polypodiopsida</td>
<td style="text-align: left;">Polypodiales</td>
<td style="text-align: left;">Polypodiaceae</td>
<td style="text-align: left;">Pleopeltis</td>
<td style="text-align: left;">Pleopeltis polylepis</td>
<td style="text-align: left;">interjecta</td>
<td style="text-align: left;">VARIETY</td>
<td style="text-align: left;">Pleopeltis polylepis var. interjecta (Weath.) E.A.Hooper</td>
<td style="text-align: left;">Pleopeltis polylepis (Roem. ex Kunze) T. Moore var. interjecta (Weath.) E. A. Hooper</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">MX</td>
<td style="text-align: left;">Oaxaca (瓦哈卡州)</td>
<td style="text-align: right;">17.38178</td>
<td style="text-align: right;">-96.44162</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">2959</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2012</td>
<td style="text-align: left;">PRESERVED_SPECIMEN</td>
</tr>
<tr class="even">
<td style="text-align: right;">2825649447</td>
<td style="text-align: left;">TAIF:PLANT:318705:1:1:411602</td>
<td style="text-align: left;">Tracheophyta</td>
<td style="text-align: left;">Polypodiopsida</td>
<td style="text-align: left;">Polypodiales</td>
<td style="text-align: left;">Aspleniaceae</td>
<td style="text-align: left;">Asplenium</td>
<td style="text-align: left;">Asplenium monanthes</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">SPECIES</td>
<td style="text-align: left;">Asplenium monanthes L.</td>
<td style="text-align: left;">Asplenium monanthes L.</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">MX</td>
<td style="text-align: left;">Oaxaca (瓦哈卡州)</td>
<td style="text-align: right;">17.36213</td>
<td style="text-align: right;">-96.44678</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">2820</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2012</td>
<td style="text-align: left;">PRESERVED_SPECIMEN</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2825649448</td>
<td style="text-align: left;">TAIF:PLANT:318740:1:1:411609</td>
<td style="text-align: left;">Tracheophyta</td>
<td style="text-align: left;">Lycopodiopsida</td>
<td style="text-align: left;">Lycopodiales</td>
<td style="text-align: left;">Lycopodiaceae</td>
<td style="text-align: left;">Diphasiastrum</td>
<td style="text-align: left;">Diphasiastrum thyoides</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">SPECIES</td>
<td style="text-align: left;">Diphasiastrum thyoides (Humb. &amp; Bonpl. ex Willd.) Holub</td>
<td style="text-align: left;">Diphasiastrum thyoides (Humb. &amp; Bonpl. ex Willd.) Holub</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">MX</td>
<td style="text-align: left;">Oaxaca (瓦哈卡州)</td>
<td style="text-align: right;">17.30213</td>
<td style="text-align: right;">-96.38080</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">2267</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2012</td>
<td style="text-align: left;">PRESERVED_SPECIMEN</td>
</tr>
<tr class="even">
<td style="text-align: right;">2825649449</td>
<td style="text-align: left;">TAIF:PLANT:318741:1:1:411583</td>
<td style="text-align: left;">Tracheophyta</td>
<td style="text-align: left;">Polypodiopsida</td>
<td style="text-align: left;">Equisetales</td>
<td style="text-align: left;">Equisetaceae</td>
<td style="text-align: left;">Equisetum</td>
<td style="text-align: left;">Equisetum praealtum</td>
<td style="text-align: left;">affine</td>
<td style="text-align: left;">VARIETY</td>
<td style="text-align: left;">Equisetum hyemale var. affine (Engelm.) A.A.Eaton</td>
<td style="text-align: left;">Equisetum hyemale L. var. affine (Engelm.) A. A. Eaton</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">MX</td>
<td style="text-align: left;">Oaxaca (瓦哈卡州)</td>
<td style="text-align: right;">17.35835</td>
<td style="text-align: right;">-96.44460</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">2012</td>
<td style="text-align: left;">PRESERVED_SPECIMEN</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><br></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Ejercicio
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Utiliza el código anterior para cargar la tabla de especímenes en tu computadora.</p>
<p>Nota: La tabla tiene más de 3 millones de registros y, en las pruebas que hicimos, observamos que la tabla ocupa 1.72 GB de memoria cuando se carga. Incluimos un subconjunto aleatorio de 100,000 filas (sub_100000_plantae_mexico_conCoords_specimen.csv) para los que quieran practicar con objetos que ocupen menos memoria.</p>
</div>
</div>
</div>
</section>
</section>
<section id="exportar" class="level2">
<h2 class="anchored" data-anchor-id="exportar">Exportar</h2>
<p>data.table también tiene una función optimizada para escribir los datos con los que estamos trabajando en forma de archivo. Los argumentos básicos son:</p>
<ul>
<li><code>x</code> = objeto que se quiere exportar como archivo</li>
<li><code>file</code> = nombre del archivo</li>
<li><code>sep</code> = caracter que se quiere utilizar como delimitador de campo</li>
<li><code>compress</code> = debido a que podríamos estar trabajando con tablas de datos muy grandes podemos escribir los archivos comprimidos. Se puede especificar “gzip” o “auto” y utilizar la extension <code>.gz</code> en el nombre del archivo para escribir un archivo comprimido, la opción “none” nos permite escribir archivos sin comprimir.</li>
</ul>
<p><strong>Ejemplo</strong>: podemos escribir la tabla DT que creamos al principio de la sección:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fwrite</span>(data, <span class="st">"data/testDT.csv"</span>, <span class="at">sep =</span> <span class="st">","</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><br></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Ejercicio
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Exporta la tabla de registros de especimenes como un archivo comprimido.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Respuesta
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fwrite</span>(data, <span class="st">"data/plantae_mexico_conCoords_specimen.csv.gz"</span>, <span class="at">sep =</span> <span class="st">","</span>, <span class="at">compress =</span> <span class="st">"auto"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="velocidad-dplyr-vs-data.table" class="level2">
<h2 class="anchored" data-anchor-id="velocidad-dplyr-vs-data.table">Velocidad dplyr vs data.table</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rbenchmark)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>test <span class="ot">=</span> <span class="fu">benchmark</span>(<span class="st">"r base"</span> <span class="ot">=</span> {</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>            <span class="fu">read.csv</span>(<span class="st">"big_data/plantae_mexico_conCoords_specimen.csv"</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>          },</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>          <span class="st">"data.table"</span> <span class="ot">=</span> {</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>            <span class="fu">fread</span>(<span class="st">"big_data/plantae_mexico_conCoords_specimen.csv"</span>)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>          },</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>          <span class="at">replications =</span> <span class="dv">10</span>,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>          <span class="at">columns =</span> <span class="fu">c</span>(<span class="st">"test"</span>, <span class="st">"replications"</span>, <span class="st">"elapsed"</span>,</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"relative"</span>, <span class="st">"user.self"</span>, <span class="st">"sys.self"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Nota:</strong> Si quieres correr este código revisa cuántas réplicas quieres hacer porque está escrito para leer la tabla de registros grande 10 veces utilizando cada método.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">X</th>
<th style="text-align: left;">test</th>
<th style="text-align: right;">replications</th>
<th style="text-align: right;">elapsed</th>
<th style="text-align: right;">relative</th>
<th style="text-align: right;">user.self</th>
<th style="text-align: right;">sys.self</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: left;">data.table</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">110.933</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">206.818</td>
<td style="text-align: right;">3.027</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: left;">r base</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">380.665</td>
<td style="text-align: right;">3.431</td>
<td style="text-align: right;">376.605</td>
<td style="text-align: right;">4.057</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Ejercicio opcional
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Si quieres, puedes revisar el tiempo que te toma cargar la base de datos XX utilizando read.csv y fread. Utiliza el comando de benchmark de la paquetería rbenchmark para contar el tiempo. Nota: en el número de réplicas puedes poner una o dos porque si no te vas a tardar mucho.</p>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="data.frame---data.table" class="level2">
<h2 class="anchored" data-anchor-id="data.frame---data.table">data.frame - data.table</h2>
<p>El objeto de data.table es un objeto basado en un data.frame, por lo tanto es compatible con las funciones de R base que trabajan con data.frame.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Classes ‘data.table’ and 'data.frame':  3062756 obs. of  23 variables:
 $ gbifID                          :integer64 2825623524 2825649445 2825649446 2825649447 2825649448 2825649449 2825649452 2825649453 ... 
 $ occurrenceID                    : chr  "TAIF:PLANT:318128:1:1:411555" "TAIF:PLANT:318579:1:1:411579" "TAIF:PLANT:318694:1:1:411603" "TAIF:PLANT:318705:1:1:411602" ...
 $ phylum                          : chr  "Tracheophyta" "Tracheophyta" "Tracheophyta" "Tracheophyta" ...
 $ class                           : chr  "Polypodiopsida" "Polypodiopsida" "Polypodiopsida" "Polypodiopsida" ...
 $ order                           : chr  "Polypodiales" "Polypodiales" "Polypodiales" "Polypodiales" ...
 $ family                          : chr  "Pteridaceae" "Pteridaceae" "Polypodiaceae" "Aspleniaceae" ...
 $ genus                           : chr  "Adiantum" "Scoliosorus" "Pleopeltis" "Asplenium" ...
 $ species                         : chr  "Adiantum andicola" "Scoliosorus ensiformis" "Pleopeltis polylepis" "Asplenium monanthes" ...
 $ infraspecificEpithet            : chr  "" "" "interjecta" "" ...
 $ taxonRank                       : chr  "SPECIES" "SPECIES" "VARIETY" "SPECIES" ...
 $ scientificName                  : chr  "Adiantum andicola Liebm." "Scoliosorus ensiformis (Hook.) T.Moore" "Pleopeltis polylepis var. interjecta (Weath.) E.A.Hooper" "Asplenium monanthes L." ...
 $ verbatimScientificName          : chr  "Adiantum andicola Liebm." "Scoliosorus ensiformis (Hook.) T. Moore" "Pleopeltis polylepis (Roem. ex Kunze) T. Moore var. interjecta (Weath.) E. A. Hooper" "Asplenium monanthes L." ...
 $ verbatimScientificNameAuthorship: chr  "" "" "" "" ...
 $ countryCode                     : chr  "MX" "MX" "MX" "MX" ...
 $ stateProvince                   : chr  "Oaxaca (瓦哈卡州)" "Oaxaca (瓦哈卡州)" "Oaxaca (瓦哈卡州)" "Oaxaca (瓦哈卡州)" ...
 $ decimalLatitude                 : num  17.3 17.3 17.4 17.4 17.3 ...
 $ decimalLongitude                : num  -96.4 -96.4 -96.4 -96.4 -96.4 ...
 $ coordinateUncertaintyInMeters   : num  NA NA NA NA NA NA NA NA NA NA ...
 $ elevation                       : num  2267 2267 2959 2820 2267 ...
 $ day                             : int  27 27 29 29 27 1 27 27 5 1 ...
 $ month                           : int  2 2 2 2 2 3 2 2 5 3 ...
 $ year                            : int  2012 2012 2012 2012 2012 2012 2012 2012 2000 2012 ...
 $ basisOfRecord                   : chr  "PRESERVED_SPECIMEN" "PRESERVED_SPECIMEN" "PRESERVED_SPECIMEN" "PRESERVED_SPECIMEN" ...
 - attr(*, ".internal.selfref")=&lt;externalptr&gt; 
 - attr(*, "index")= int(0) 
  ..- attr(*, "__genus")= int [1:3062756] 419 423 490 494 513 514 521 542 571 585 ...
</code></pre>
<p>Sin embargo, los objetos se pueden cambiar de clase. Por ejemplo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">as.data.frame</span>(DT) <span class="sc">%&gt;%</span> <span class="fu">class</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.data.frame</span>(DT) <span class="sc">%&gt;%</span> <span class="fu">as.data.table</span>() <span class="sc">%&gt;%</span> <span class="fu">class</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.table" "data.frame"</code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>